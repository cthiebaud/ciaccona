<!doctype html>
<html lang=en>

<head>
    <meta charset=utf-8>
    <title>Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: red;
            margin: 0;
            padding: .5rem;
            height: 100vh;
            width: 100vw;
        }

        body>div {
            background-color: gray;
            border: 1px solid yellowgreen;
            padding: .5rem;
            margin: .5rem;
            height: 100%;
            width: 100%;
        }

        body>div>div {
            background-color: aquamarine;
            border: 1px solid green;
            padding: .5rem;
            margin: .5rem;
            width: 100%;
            height: 32rem;
            overflow: hidden;
        }

        .score {
            background-color: crimson;
            border: 1px solid red;
            padding: .5rem;
            margin: .5rem;
            width: fit-content;
            block-size: fit-content;
            /* visibility: hidden; */
        }

        .score object {
            background-color: aliceblue;
            border: 1px solid blue;
            padding: .5rem;
            margin: .5rem;
            height: 5rem;
            display: block;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
    <script type="module">
        import resizeSVGs from "/resizeSVGs.js"
        const resize = true
        if (!resize) {
            document.querySelectorAll('object').forEach((o) => {
                // o.parentNode.style.visibility = "visible"
            })
        } else {
            window.addEventListener('load', (event) => {
                resizeSVGs(
                    document.querySelectorAll('object.resize'),
                    0,
                    (o) => {
                        // o.parentNode.style.visibility = "visible"
                    },
                    () => {
                        document.querySelectorAll('object').forEach((o) => {
                            console.log(o.id, o.getBoundingClientRect())
                        })
                    })
            });
        }
    </script>
</head>

<body>
    <div>
        <!--
            <div class="d-flex justify-content-between align-items-center">
                <div class="flex-fill">
                    <div class="score">
                        <object id="o${i}" data="bars/bwv-1004_5_for_PNGs-1.svg" type="image/svg+xml">
                        </object>
                    </div>
                </div>
            </div>
        -->
    </div>
</body>

<script>
    for (let i = 1; i < 35; i++) {
        var new_brick =
            `
<!--div class="d-flex row justify-content-between align-items-center crop">
    <div-- class="flex-fill">
        <div class="score">
            <object id="o${i}________" data="scores/bwv-1004_5_for_PNGs-${i}.svg" type="image/svg+xml"
                    style="pointer-events: none;" >
        </object>
    </div>
</div-->
<div class="d-flex row justify-content-between align-items-center crop">
    <div class="flex-fill">
        <div class="score">
            <object id="o${i}_____res" class="resize" data="scores/bwv-1004_5_for_PNGs-${i}.svg" type="image/svg+xml"
                    style="pointer-events: none;" >
        </object>
    </div>
</div>
<!-- div class="d-flex row justify-content-between align-items-center">
    <div class="flex-fill">
        <div class="score">
            <object id="o${i}_cro_res" class="resize" data="scores/bwv-1004_5_for_PNGs-${i}_cropped.svg" type="image/svg+xml"
                    style="pointer-events: none;" >
        </object>
    </div>
</div>
<div class="d-flex row justify-content-between align-items-center">
    <div-- class="flex-fill">
        <div class="score">
            <object id="o${i}_cro____" data="scores/bwv-1004_5_for_PNGs-${i}_cropped.svg" type="image/svg+xml"
                    style="pointer-events: none;" >
        </object>
    </div>
</div-->
`
        $('body>div').append($(new_brick))
    }

</script>

</html>